
        <div class="header">
            <div class="d-flex align-items-center">
                <h2 class="page-title">
                    <i class="fas fa-layer-group me-2"></i>
                    Gestion des Niveaux d'Étude
                </h2>
                <div class="ms-4 d-none d-md-block">
                    <span class="badge bg-success p-2">Année académique: 2024-2025</span>
                </div>
            </div>
            
            <div class="d-flex align-items-center gap-4">
                <div class="d-none d-md-flex align-items-center">
                    <span class="text-dark me-3">Bienvenue, <strong>Thomas Bernard</strong></span>
                </div>
                <div class="dropdown me-3">
                    <a class="btn btn-light position-relative rounded-circle p-2" href="#" role="button" id="notificationDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-bell"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                            4
                            <span class="visually-hidden">nouvelles notifications</span>
                        </span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="notificationDropdown" style="min-width: 320px;">
                        <li><h6 class="dropdown-header bg-light py-3">Notifications</h6></li>
                        <li><a class="dropdown-item py-3 border-bottom" href="#">
                            <div class="d-flex align-items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-primary text-white rounded-circle p-2">
                                        <i class="fas fa-layer-group"></i>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <p class="mb-0 fw-bold">Nouveau niveau Master 2 Pro ajouté</p>
                                    <small class="text-muted">Il y a 1 heure</small>
                                </div>
                            </div>
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-center py-2" href="#">Voir toutes les notifications</a></li>
                    </ul>
                </div>
                <div class="dropdown">
                    <a class="btn btn-outline-dark d-flex align-items-center" href="#" role="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="user-avatar me-2 bg-white">
                            <i class="fas fa-user"></i>
                        </div>
                        <span class="d-none d-md-inline">Mon compte</span>
                        <i class="fas fa-chevron-down ms-2 d-none d-md-inline"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="userDropdown">
                        <li><div class="dropdown-header bg-light py-3">Thomas Bernard</div></li>
                        <li><a class="dropdown-item py-2" href="#"><i class="fas fa-user-circle me-2"></i>Mon profil</a></li>
                        <li><a class="dropdown-item py-2" href="#"><i class="fas fa-cog me-2"></i>Paramètres</a></li>
                        <li><a class="dropdown-item py-2" href="#"><i class="fas fa-question-circle me-2"></i>Aide</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger py-2" href="#"><i class="fas fa-sign-out-alt me-2"></i>Déconnexion</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="content-area">
            <!-- Statistics Cards Row -->
            <div class="row g-4 mb-4">
                <div class="col-md-3">
                    <div class="stats-card h-100">
                        <div class="stats-card-content">
                            <div class="stats-icon bg-primary">
                                <i class="fas fa-layer-group"></i>
                            </div>
                            <div class="stats-title">Total Niveaux</div>
                            <div class="stats-number">8</div>
                            <div class="stats-trend">
                                <i class="fas fa-graduation-cap"></i> LMD + Spécialisations
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card h-100">
                        <div class="stats-card-content">
                            <div class="stats-icon bg-success">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div class="stats-title">Licence</div>
                            <div class="stats-number">285</div>
                            <div class="stats-trend">
                                <i class="fas fa-users"></i> Étudiants inscrits
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card h-100">
                        <div class="stats-card-content">
                            <div class="stats-icon bg-warning">
                                <i class="fas fa-award"></i>
                            </div>
                            <div class="stats-title">Master</div>
                            <div class="stats-number">197</div>
                            <div class="stats-trend">
                                <i class="fas fa-users"></i> Étudiants inscrits
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card h-100">
                        <div class="stats-card-content">
                            <div class="stats-icon bg-info">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="stats-title">Diplômés 2023-24</div>
                            <div class="stats-number">156</div>
                            <div class="stats-trend">
                                <i class="fas fa-medal"></i> Année précédente
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- LMD Structure Overview -->
            <div class="row g-4 mb-4">
                <div class="col-md-12">
                    <div class="dashboard-card">
                        <h5 class="mb-4"><i class="fas fa-sitemap me-2"></i>Structure du Système LMD</h5>
                        
                        <div class="row">
                            <div class="col-md-4">
                                <div class="text-center p-4 border rounded h-100">
                                    <div class="mb-3">
                                        <i class="fas fa-certificate fa-3x text-success"></i>
                                    </div>
                                    <h4 class="text-success">LICENCE</h4>
                                    <p class="text-muted">3 années • 180 crédits ECTS</p>
                                    <div class="d-flex justify-content-around mt-3">
                                        <div class="text-center">
                                            <strong>L1</strong><br>
                                            <small>60 crédits</small>
                                        </div>
                                        <div class="text-center">
                                            <strong>L2</strong><br>
                                            <small>60 crédits</small>
                                        </div>
                                        <div class="text-center">
                                            <strong>L3</strong><br>
                                            <small>60 crédits</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="text-center p-4 border rounded h-100">
                                    <div class="mb-3">
                                        <i class="fas fa-award fa-3x text-warning"></i>
                                    </div>
                                    <h4 class="text-warning">MASTER</h4>
                                    <p class="text-muted">2 années • 120 crédits ECTS</p>
                                    <div class="d-flex justify-content-around mt-3">
                                        <div class="text-center">
                                            <strong>M1</strong><br>
                                            <small>60 crédits</small>
                                        </div>
                                        <div class="text-center">
                                            <strong>M2</strong><br>
                                            <small>60 crédits</small>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <span class="badge bg-info me-1">Recherche</span>
                                        <span class="badge bg-success">Professionnel</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="text-center p-4 border rounded h-100">
                                    <div class="mb-3">
                                        <i class="fas fa-trophy fa-3x text-info"></i>
                                    </div>
                                    <h4 class="text-info">DOCTORAT</h4>
                                    <p class="text-muted">3 années minimum</p>
                                    <div class="mt-3">
                                        <strong>180</strong><br>
                                        <small>crédits ECTS minimum requis</small>
                                    </div>
                                    <div class="mt-3">
                                        <span class="badge bg-purple">Recherche avancée</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Study Levels Management -->
            <div class="dashboard-card">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h5 class="mb-1"><i class="fas fa-cogs me-2"></i>Configuration des Niveaux d'Étude</h5>
                        <p class="text-muted mb-0">Gérer les niveaux, spécialisations et filières</p>
                    </div>
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline-secondary" onclick="exportLevels()">
                            <i class="fas fa-file-export me-2"></i>Exporter
                        </button>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addLevelModal">
                            <i class="fas fa-plus me-2"></i>Nouveau niveau
                        </button>
                    </div>
                </div>

                <!-- Search and Filters -->
                <div class="row mb-4 align-items-center">
                    <div class="col-md-4">
                        <div class="search-box">
                            <i class="fas fa-search text-muted"></i>
                            <input type="text" id="searchLevel" placeholder="Rechercher un niveau..." onkeyup="filterLevels()">
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="row g-2">
                            <div class="col-md-4">
                                <select class="custom-select" id="filterCycle" onchange="filterLevels()">
                                    <option value="">Tous les cycles</option>
                                    <option value="Licence">Licence</option>
                                    <option value="Master">Master</option>
                                    <option value="Doctorat">Doctorat</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <select class="custom-select" id="filterStatus" onchange="filterLevels()">
                                    <option value="">Tous les statuts</option>
                                    <option value="Actif">Actif</option>
                                    <option value="Inactif">Inactif</option>
                                    <option value="Archivé">Archivé</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-secondary w-100" onclick="resetFilters()">
                                    <i class="fas fa-undo me-1"></i>Réinitialiser
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Levels Table -->
                <div class="table-responsive">
                    <table class="table table-hover" id="levelsTable">
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Niveau d'étude</th>
                                <th>Cycle</th>
                                <th>Durée</th>
                                <th>Crédits requis</th>
                                <th>Étudiants inscrits</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="fw-bold">L1</td>
                                <td>
                                    <div>
                                        <div class="fw-bold">Licence 1</div>
                                        <small class="text-muted">Première année de Licence</small>
                                    </div>
                                </td>
                                <td><span class="badge bg-success">Licence</span></td>
                                <td>1 an</td>
                                <td><span class="badge bg-primary">60 crédits</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">95</span>
                                        <div class="progress flex-grow-1" style="height: 6px; max-width: 60px;">
                                            <div class="progress-bar bg-success" style="width: 85%"></div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge status-active">Actif</span></td>
                                <td>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-sm btn-outline-primary" title="Voir" onclick="viewLevel(1)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning" title="Modifier" onclick="editLevel(1)">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-info" title="Spécialisations" onclick="manageSpecializations(1)">
                                            <i class="fas fa-tags"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" title="Archiver" onclick="archiveLevel(1)">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold">L2</td>
                                <td>
                                    <div>
                                        <div class="fw-bold">Licence 2</div>
                                        <small class="text-muted">Deuxième année de Licence</small>
                                    </div>
                                </td>
                                <td><span class="badge bg-success">Licence</span></td>
                                <td>1 an</td>
                                <td><span class="badge bg-primary">60 crédits</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">89</span>
                                        <div class="progress flex-grow-1" style="height: 6px; max-width: 60px;">
                                            <div class="progress-bar bg-success" style="width: 78%"></div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge status-active">Actif</span></td>
                                <td>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-sm btn-outline-primary" title="Voir" onclick="viewLevel(2)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning" title="Modifier" onclick="editLevel(2)">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-info" title="Spécialisations" onclick="manageSpecializations(2)">
                                            <i class="fas fa-tags"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" title="Archiver" onclick="archiveLevel(2)">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold">L3</td>
                                <td>
                                    <div>
                                        <div class="fw-bold">Licence 3</div>
                                        <small class="text-muted">Troisième année de Licence</small>
                                    </div>
                                </td>
                                <td><span class="badge bg-success">Licence</span></td>
                                <td>1 an</td>
                                <td><span class="badge bg-primary">60 crédits</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">101</span>
                                        <div class="progress flex-grow-1" style="height: 6px; max-width: 60px;">
                                            <div class="progress-bar bg-success" style="width: 92%"></div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge status-active">Actif</span></td>
                                <td>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-sm btn-outline-primary" title="Voir" onclick="viewLevel(3)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning" title="Modifier" onclick="editLevel(3)">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-info" title="Spécialisations" onclick="manageSpecializations(3)">
                                            <i class="fas fa-tags"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" title="Archiver" onclick="archiveLevel(3)">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold">M1</td>
                                <td>
                                    <div>
                                        <div class="fw-bold">Master 1</div>
                                        <small class="text-muted">Première année de Master</small>
                                    </div>
                                </td>
                                <td><span class="badge bg-warning text-dark">Master</span></td>
                                <td>1 an</td>
                                <td><span class="badge bg-primary">60 crédits</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">78</span>
                                        <div class="progress flex-grow-1" style="height: 6px; max-width: 60px;">
                                            <div class="progress-bar bg-warning" style="width: 68%"></div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge status-active">Actif</span></td>
                                <td>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-sm btn-outline-primary" title="Voir" onclick="viewLevel(4)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning" title="Modifier" onclick="editLevel(4)">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-info" title="Spécialisations" onclick="manageSpecializations(4)">
                                            <i class="fas fa-tags"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" title="Archiver" onclick="archiveLevel(4)">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold">M2</td>
                                <td>
                                    <div>
                                        <div class="fw-bold">Master 2</div>
                                        <small class="text-muted">Deuxième année de Master</small>
                                    </div>
                                </td>
                                <td><span class="badge bg-warning text-dark">Master</span></td>
                                <td>1 an</td>
                                <td><span class="badge bg-primary">60 crédits</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">119</span>
                                        <div class="progress flex-grow-1" style="height: 6px; max-width: 60px;">
                                            <div class="progress-bar bg-warning" style="width: 95%"></div>
                                        </div>
                                    </div>
                                </td>
                                <td><span class="badge status-active">Actif</span></td>
                                <td>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-sm btn-outline-primary" title="Voir" onclick="viewLevel(5)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-warning" title="Modifier" onclick="editLevel(5)">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-info" title="Spécialisations" onclick="manageSpecializations(5)">
                                            <i class="fas fa-tags"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger" title="Archiver" onclick="archiveLevel(5)">
                                            <i class="fas fa-archive"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Level Modal -->
    <div class="modal fade" id="addLevelModal" tabindex="-1" aria-labelledby="addLevelModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addLevelModalLabel">
                        <i class="fas fa-plus me-2"></i>Ajouter un nouveau niveau d'étude
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addLevelForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="levelCode" class="form-label">Code <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="levelCode" name="code" required>
                                <div class="form-text">Ex: L1, L2, M1, M2, D1...</div>
                            </div>
                            <div class="col-md-6">
                                <label for="levelName" class="form-label">Nom du niveau <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="levelName" name="lib_niv_etu" required>
                            </div>
                            <div class="col-md-6">
                                <label for="levelCycle" class="form-label">Cycle <span class="text-danger">*</span></label>
                                <select class="form-select" id="levelCycle" name="cycle" required>
                                    <option value="">Choisir...</option>
                                    <option value="Licence">Licence (L)</option>
                                    <option value="Master">Master (M)</option>
                                    <option value="Doctorat">Doctorat (D)</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="levelDuration" class="form-label">Durée (années) <span class="text-danger">*</span></label>
                                <select class="form-select" id="levelDuration" name="duree" required>
                                    <option value="">Choisir...</option>
                                    <option value="1">1 an</option>
                                    <option value="2">2 ans</option>
                                    <option value="3">3 ans</option>
                                    <option value="4">4 ans</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="levelCredits" class="form-label">Crédits requis <span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="levelCredits" name="credits" min="30" max="180" required>
                                <div class="form-text">Crédits ECTS nécessaires pour valider le niveau</div>
                            </div>
                            <div class="col-md-6">
                                <label for="levelOrder" class="form-label">Ordre d'affichage</label>
                                <input type="number" class="form-control" id="levelOrder" name="ordre" min="1" placeholder="1">
                            </div>
                            <div class="col-12">
                                <label for="levelDescription" class="form-label">Description</label>
                                <textarea class="form-control" id="levelDescription" name="description" rows="3" placeholder="Description du niveau d'étude"></textarea>
                            </div>
                            <div class="col-12">
                                <label for="levelPrerequisites" class="form-label">Prérequis</label>
                                <textarea class="form-control" id="levelPrerequisites" name="prerequis" rows="2" placeholder="Conditions d'accès au niveau"></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="levelActive" name="actif" checked>
                                    <label class="form-check-label" for="levelActive">
                                        Niveau actif (ouvert aux inscriptions)
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-primary" onclick="saveLevel()">
                        <i class="fas fa-save me-2"></i>Enregistrer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Level Modal -->
    <div class="modal fade" id="viewLevelModal" tabindex="-1" aria-labelledby="viewLevelModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewLevelModalLabel">
                        <i class="fas fa-info-circle me-2"></i>Détails du niveau d'étude
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="levelDetailsContent">
                    <!-- Content will be loaded dynamically -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Specializations Modal -->
    <div class="modal fade" id="specializationsModal" tabindex="-1" aria-labelledby="specializationsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="specializationsModalLabel">
                        <i class="fas fa-tags me-2"></i>Gestion des Spécialisations
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h6>Spécialisations disponibles</h6>
                        <button class="btn btn-sm btn-primary" onclick="addSpecialization()">
                            <i class="fas fa-plus me-1"></i>Nouvelle spécialisation
                        </button>
                    </div>
                    <div id="specializationsContent">
                        <!-- Content will be loaded dynamically -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Filter functions
        function filterLevels() {
            const searchTerm = document.getElementById('searchLevel').value.toLowerCase();
            const cycleFilter = document.getElementById('filterCycle').value;
            const statusFilter = document.getElementById('filterStatus').value;
            
            const rows = document.querySelectorAll('#levelsTable tbody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                
                const matchesSearch = text.includes(searchTerm);
                const matchesCycle = !cycleFilter || text.includes(cycleFilter.toLowerCase());
                const matchesStatus = !statusFilter || text.includes(statusFilter.toLowerCase());
                
                row.style.display = (matchesSearch && matchesCycle && matchesStatus) ? '' : 'none';
            });
        }

        function resetFilters() {
            document.getElementById('searchLevel').value = '';
            document.getElementById('filterCycle').value = '';
            document.getElementById('filterStatus').value = '';
            filterLevels();
        }

        // Level management functions
        function viewLevel(id) {
            console.log('Viewing level:', id);
            
            const levelData = {
                1: {
                    code: 'L1',
                    name: 'Licence 1',
                    cycle: 'Licence',
                    duration: '1 an',
                    credits: 60,
                    students: 95,
                    description: 'Première année du cycle de licence, formation généraliste en informatique et mathématiques.',
                    prerequisites: 'Baccalauréat scientifique ou équivalent'
                }
                // Add more level data as needed
            };
            
            const level = levelData[id] || levelData[1];
            
            const detailsContent = `
                <div class="row">
                    <div class="col-md-6">
                        <h6>Informations générales</h6>
                        <p><strong>Code:</strong> ${level.code}</p>
                        <p><strong>Nom:</strong> ${level.name}</p>
                        <p><strong>Cycle:</strong> <span class="badge bg-success">${level.cycle}</span></p>
                        <p><strong>Durée:</strong> ${level.duration}</p>
                        <p><strong>Crédits requis:</strong> <span class="badge bg-primary">${level.credits} crédits</span></p>
                    </div>
                    <div class="col-md-6">
                        <h6>Statistiques</h6>
                        <p><strong>Étudiants inscrits:</strong> ${level.students}</p>
                        <p><strong>Taux de réussite:</strong> 85%</p>
                        <p><strong>Spécialisations:</strong> 3</p>
                        <p><strong>UE disponibles:</strong> 12</p>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-12">
                        <h6>Description</h6>
                        <p>${level.description}</p>
                    </div>
                    <div class="col-12">
                        <h6>Prérequis</h6>
                        <p>${level.prerequisites}</p>
                    </div>
                </div>
            `;
            
            document.getElementById('levelDetailsContent').innerHTML = detailsContent;
            new bootstrap.Modal(document.getElementById('viewLevelModal')).show();
        }

        function editLevel(id) {
            console.log('Editing level:', id);
            // Open edit modal with pre-filled data
        }

        function manageSpecializations(id) {
            console.log('Managing specializations for level:', id);
            
            const specializationsContent = `
                <div class="table-responsive">
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Spécialisation</th>
                                <th>Étudiants</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>INFO</td>
                                <td>Informatique</td>
                                <td>45</td>
                                <td><span class="badge bg-success">Actif</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline-warning" onclick="editSpecialization(1)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="deleteSpecialization(1)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>MATH</td>
                                <td>Mathématiques</td>
                                <td>30</td>
                                <td><span class="badge bg-success">Actif</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline-warning" onclick="editSpecialization(2)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="deleteSpecialization(2)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>PHYS</td>
                                <td>Physique</td>
                                <td>20</td>
                                <td><span class="badge bg-success">Actif</span></td>
                                <td>
                                    <button class="btn btn-sm btn-outline-warning" onclick="editSpecialization(3)">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="deleteSpecialization(3)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
            
            document.getElementById('specializationsContent').innerHTML = specializationsContent;
            new bootstrap.Modal(document.getElementById('specializationsModal')).show();
        }

        function archiveLevel(id) {
            if (confirm('Êtes-vous sûr de vouloir archiver ce niveau d\'étude ? Les étudiants actuels pourront terminer mais aucune nouvelle inscription ne sera possible.')) {
                console.log('Archiving level:', id);
                // Implement archive logic
            }
        }

        function saveLevel() {
            const form = document.getElementById('addLevelForm');
            if (form.checkValidity()) {
                console.log('Saving level...');
                
                const formData = new FormData(form);
                
                // Validate credits based on cycle
                const cycle = formData.get('cycle');
                const credits = parseInt(formData.get('credits'));
                
                if (cycle === 'Licence' && credits !== 60) {
                    alert('Pour le cycle Licence, chaque niveau doit valoir 60 crédits ECTS.');
                    return;
                }
                if (cycle === 'Master' && credits !== 60) {
                    alert('Pour le cycle Master, chaque niveau doit valoir 60 crédits ECTS.');
                    return;
                }
                
                // Add save logic here
                bootstrap.Modal.getInstance(document.getElementById('addLevelModal')).hide();
                showNotification('Niveau d\'étude créé avec succès!', 'success');
            } else {
                form.reportValidity();
            }
        }

        function addSpecialization() {
            const code = prompt('Code de la spécialisation:');
            const name = prompt('Nom de la spécialisation:');
            
            if (code && name) {
                console.log('Adding specialization:', {code, name});
                // Add specialization logic
                showNotification('Spécialisation ajoutée avec succès!', 'success');
            }
        }

        function editSpecialization(id) {
            console.log('Editing specialization:', id);
            // Open edit specialization modal
        }

        function deleteSpecialization(id) {
            if (confirm('Êtes-vous sûr de vouloir supprimer cette spécialisation ?')) {
                console.log('Deleting specialization:', id);
                // Delete specialization logic
            }
        }

        function exportLevels() {
            console.log('Exporting levels...');
            // Implement export functionality
        }

        // Auto-calculate credits based on cycle
        document.getElementById('levelCycle').addEventListener('change', function() {
            const cycle = this.value;
            const creditsField = document.getElementById('levelCredits');
            
            if (cycle === 'Licence' || cycle === 'Master') {
                creditsField.value = 60;
            } else if (cycle === 'Doctorat') {
                creditsField.value = 180;
            }
        });

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 5000);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Study levels management page loaded');
        });
    </script>